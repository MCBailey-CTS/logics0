import pytest
from tests_explicit.test_small_explicit import solve
from techniques import *


def test_sudoku_explicit_shashimi_x_wing_1_fin_east():
    actual = \
        f"""
        _________a _________a _________a    _________b _________b _________b    _________c _________c _________c
        _________a _________a _________a    _________b _________b _________b    _________c _________c _________c
        _23456789a _23456789a _________a    _23456789b _23456789b _23456789b    _23456789c _________c _23456789c
        
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        
        _23456789g _23456789g _________g    _23456789h _23456789h _23456789h    _________i _23456789i _23456789i
        _________g _________g _________g    _________h _________h _________h    _________i _________i _________i
        _________g _________g _________g    _________h _________h _________h    _________i _________i _________i
        """

    expected = \
        f"""
        _________a _________a _________a    _________b _________b _________b    _23456789c _________c _________c
        _________a _________a _________a    _________b _________b _________b    _23456789c _________c _________c
        _23456789a _23456789a _________a    _23456789b _23456789b _23456789b    _23456789c _________c _23456789c
        
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        
        _23456789g _23456789g _________g    _23456789h _23456789h _23456789h    _________i _23456789i _23456789i
        _________g _________g _________g    _________h _________h _________h    _________i _23456789i _________i
        _________g _________g _________g    _________h _________h _________h    _________i _23456789i _________i
        """
    if solve(9, actual, expected, SashimiXWing()):
        return
    assert False


def test_sudoku_explicit_shashimi_x_wing_1_fin_west():
    actual = \
        f"""
        _________c _________c _________c   _________a _________a _________a    _________b _________b _________b
        _________c _________c _________c   _________a _________a _________a    _________b _________b _________b
        _23456789c _________c _23456789c   _23456789a _23456789a _________a    _23456789b _23456789b _23456789b

        _________f _________f _________f   _________d _________d _________d    _________e _________e _________e
        _________f _________f _________f   _________d _________d _________d    _________e _________e _________e
        _________f _________f _________f   _________d _________d _________d    _________e _________e _________e

        _________i _23456789i _23456789i   _23456789g _23456789g _________g    _23456789h _23456789h _23456789h
        _________i _________i _________i   _________g _________g _________g    _________h _________h _________h
        _________i _________i _________i   _________g _________g _________g    _________h _________h _________h
        """

    expected = \
        f"""
        _________c _________c _________c   _________a _________a _________a    _________b _________b _________b
        _________c _________c _________c   _________a _________a _________a    _________b _________b _________b
        _23456789c _________c _23456789c   _23456789a _23456789a _________a    _23456789b _23456789b _23456789b

        _________f _________f _________f   _________d _________d _________d    _________e _________e _________e
        _________f _________f _________f   _________d _________d _________d    _________e _________e _________e
        _________f _________f _________f   _________d _________d _________d    _________e _________e _________e

        _________i _23456789i _23456789i   _23456789g _23456789g _________g    _23456789h _23456789h _23456789h
        _________i _________i _________i   _________g _________g _________g    _________h _________h _________h
        _________i _________i _________i   _________g _________g _________g    _________h _________h _________h
        """
    if solve(9, actual, expected, SashimiXWing()):
        return
    assert False


def test_sudoku_explicit_shashimi_x_wing_2_fin_rows():
    actual = \
        f"""
        _________a _________a _________a    _________b _________b _________b    _________c _________c _________c
        _________a _________a _________a    _________b _________b _________b    _________c _________c _________c
        _23456789a _23456789a _________a    _23456789b _23456789b _23456789b    _23456789c _________c _________c

        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f

        _23456789g _23456789g _________g    _23456789h _23456789h _23456789h    _________i _23456789i _23456789i
        _________g _________g _________g    _________h _________h _________h    _________i _________i _________i
        _________g _________g _________g    _________h _________h _________h    _________i _________i _________i
        """
    expected = \
        f"""
        _________a _________a _________a    _________b _________b _________b    _23456789c _________c _________c
        _________a _________a _________a    _________b _________b _________b    _23456789c _________c _________c
        _23456789a _23456789a _________a    _23456789b _23456789b _23456789b    _23456789c _________c _________c

        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f
        _________d _________d _________d    _________e _________e _________e    _________f _________f _________f

        _23456789g _23456789g _________g    _23456789h _23456789h _23456789h    _________i _23456789i _23456789i
        _________g _________g _________g    _________h _________h _________h    _________i _________i _________i
        _________g _________g _________g    _________h _________h _________h    _________i _________i _________i
        """
    if solve(9, actual, expected, SashimiXWing()):
        return
    assert False

